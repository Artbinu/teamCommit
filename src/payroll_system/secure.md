
# âœ… ë³´ì•ˆ ì·¨ì•½ì  ê°œì„  ë³´ê³ ì„œ

ì´ ë¬¸ì„œëŠ” ê¸°ì¡´ ê¸‰ì—¬ ì¡°íšŒ í”„ë¡œê·¸ëž¨ì˜ ë³´ì•ˆ ì·¨ì•½ì ì„ ì–´ë–»ê²Œ ê°œì„ í–ˆëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## 1. âŒ í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸ ì €ìž¥ â†’ âœ… í•´ì‹œ(SHA-256) ì €ìž¥
- **ê¸°ì¡´ ë¬¸ì œ**: ë°ì´í„°ë² ì´ìŠ¤ì— ë¹„ë°€ë²ˆí˜¸ê°€ í‰ë¬¸ìœ¼ë¡œ ì €ìž¥ë˜ì–´ ìžˆì—ˆìŒ.
- **ê°œì„ **:
  - `hashlib.sha256()`ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•´ì‹±.
  - ì‚¬ìš©ìž ì¶”ê°€ ì‹œ MariaDB ë‚´ìž¥ í•¨ìˆ˜ `SHA2(ë¹„ë°€ë²ˆí˜¸, 256)`ì„ ì‚¬ìš©í•˜ì—¬ í•´ì‹œ ì €ìž¥.

```python
def hash_password(password):
    return hashlib.sha256(password.encode()).hexdigest()
```

---

## 2. âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨ ë¬´ì œí•œ ì‹œë„ â†’ âœ… ë¡œê·¸ì¸ ì‹¤íŒ¨ íšŸìˆ˜ ì œí•œ ë° ìž ê¸ˆ
- **ê¸°ì¡´ ë¬¸ì œ**: ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œë„ì— ëŒ€í•œ ì œí•œì´ ì—†ì–´ ë¬´ì°¨ë³„ ëŒ€ìž… ê³µê²©(Brute-force)ì— ì·¨ì•½.
- **ê°œì„ **:
  - ë¡œê·¸ì¸ ì‹¤íŒ¨ 5íšŒ ì‹œ 30ë¶„ ìž ê¸ˆ (`LOCK_DURATION`)
  - ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì‹¤íŒ¨ íšŸìˆ˜ ì´ˆê¸°í™”

```python
if global_login_attempts >= 5:
    if current_time < lock_until:
        print(f"â›” ë¡œê·¸ì¸ ì‹¤íŒ¨ 5íšŒ! {remaining_time}ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.")
```

---

## 3. âŒ ê´€ë¦¬ìž ê¶Œí•œ í™•ì¸ ë¯¸í¡ â†’ âœ… ëª…í™•í•œ ì—­í•  êµ¬ë¶„
- **ê¸°ì¡´ ë¬¸ì œ**: ë‹¨ìˆœížˆ IDê°€ `"admin"`ì¸ì§€ë¡œë§Œ ê´€ë¦¬ìž ì—¬ë¶€ íŒë‹¨.
- **ê°œì„ **:
  - ì—­í• ì„ ëª…í™•ížˆ êµ¬ë¶„í•˜ì—¬ `"admin"` ì‚¬ìš©ìžë§Œ ê´€ë¦¬ìž ê¸°ëŠ¥ ìˆ˜í–‰ ê°€ëŠ¥.
  - ì¶”ê°€ë¡œ DBì˜ `role` ì»¬ëŸ¼ìœ¼ë¡œ ì‚¬ìš©ìž ê¶Œí•œ ê´€ë¦¬í•˜ëŠ” ê²ƒë„ ì¶”ì²œ (ì¶”í›„ í™•ìž¥ ê°€ëŠ¥).

---

## 4. âŒ SQL Injection ìœ„í—˜ â†’ âœ… íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì‚¬ìš©
- **ê¸°ì¡´ ë¬¸ì œ**: ì‚¬ìš©ìž ìž…ë ¥ì´ ì§ì ‘ SQL ì¿¼ë¦¬ì— ì‚½ìž…ë¨.
- **ê°œì„ **:
  - ëª¨ë“  SQL ì¿¼ë¦¬ì— ëŒ€í•´ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© (`%s`) ì‚¬ìš©.

```python
cursor.execute("SELECT password_hash FROM users WHERE username = %s", (username,))
```

---

## 5. âŒ ì—ëŸ¬ ë¯¸ì²˜ë¦¬ â†’ âœ… ì˜ˆì™¸ ì²˜ë¦¬ë¡œ ì•ˆì •ì„± í™•ë³´
- **ê¸°ì¡´ ë¬¸ì œ**: DB ì—°ê²° ë˜ëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì˜ˆì™¸ ì²˜ë¦¬ê°€ ì—†ì—ˆìŒ.
- **ê°œì„ **:
  - ëª¨ë“  DB ì—°ì‚°ì— `try-except-finally` ë¬¸ì„ ì ìš©í•˜ì—¬ ì˜ˆì™¸ ë°œìƒ ì‹œ ì ì ˆí•œ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•¨.

---

## 6. âŒ ì¤‘ë³µ ê¸‰ì—¬ ìž…ë ¥ ê°€ëŠ¥ â†’ ðŸ”œ ê°œì„  í•„ìš”
- **ë³´ì™„ ì—¬ì§€**: ì‚¬ìš©ìžì˜ ê¸‰ì—¬ ì •ë³´ë¥¼ ë§¤ë²ˆ `INSERT`ë¡œ ì‚½ìž…í•˜ë¯€ë¡œ ì¤‘ë³µ ê°€ëŠ¥ì„± ìžˆìŒ.
- **ê°œì„  ë°©ì•ˆ (ì œì•ˆ)**:

```sql
INSERT INTO salaries (...) 
ON DUPLICATE KEY UPDATE base_salary = VALUES(base_salary), ...
```

---
